import{_,r as m,q as f,c as i,a as t,t as s,u as n,F as y,d as D,A as b,o as a,y as d,j as g}from"./index-PDS2Q5JA.js";const h={class:"error-detail"},w={class:"page-header"},x={class:"header-left"},S={class:"error-type"},k={class:"detail-section"},O={class:"error-message"},E={class:"code-block"},I={class:"error-stack"},C={class:"code-block"},A={class:"detail-section"},T={class:"context-grid"},U={class:"context-item"},j={class:"context-item"},B={class:"context-item"},F={class:"context-item"},H={class:"context-item"},P={class:"context-item"},R={class:"context-item"},q={class:"context-item"},G={class:"detail-section"},K={class:"timeline"},L={class:"time"},M={class:"action"},N={class:"action-type"},V={class:"action-detail"},W={__name:"ErrorDetail",setup(z){const r=b(),c=g(),o=m({id:r.params.id,type:"TypeError",message:"Cannot read property 'data' of undefined",stack:`TypeError: Cannot read property 'data' of undefined
    at processData (app.js:123:45)
    at async fetchUserData (app.js:67:23)
    at async mounted (UserProfile.vue:89:12)`,path:"/products/detail",browser:"Chrome 120.0.0",os:"Windows 11",device:"Desktop",firstOccurred:"2024-01-20T08:30:00",lastOccurred:new Date().toISOString(),count:23,affectedUsers:15,userActions:[{time:new Date(Date.now()-5e3).toISOString(),type:"错误发生",detail:"Cannot read property 'data' of undefined"},{time:new Date(Date.now()-15e3).toISOString(),type:"点击事件",detail:'点击了"查看详情"按钮 (#view-detail-btn)'},{time:new Date(Date.now()-3e4).toISOString(),type:"页面跳转",detail:"从 /products 跳转到 /products/detail"},{time:new Date(Date.now()-6e4).toISOString(),type:"API请求",detail:"GET /api/products/list 200 OK"}]}),u=()=>{confirm("确定要忽略此类错误吗？后续将不再收集此类错误。")&&(console.log("忽略错误:",o.value.id),c.push("/monitor/errors"))},v=async()=>{console.log("加载错误详情:",r.params.id)};return f(()=>{v()}),(J,e)=>(a(),i("div",h,[t("div",w,[t("div",x,[e[0]||(e[0]=t("h2",null,"错误详情",-1)),t("span",S,s(o.value.type),1)]),t("div",{class:"header-actions"},[t("button",{class:"action-btn",onClick:u},"忽略此类错误")])]),t("div",k,[t("div",O,[e[1]||(e[1]=t("h3",null,"错误信息",-1)),t("div",E,s(o.value.message),1)]),t("div",I,[e[2]||(e[2]=t("h3",null,"堆栈信息",-1)),t("pre",C,s(o.value.stack),1)])]),t("div",A,[e[11]||(e[11]=t("h3",null,"错误上下文",-1)),t("div",T,[t("div",U,[e[3]||(e[3]=t("label",null,"页面路径",-1)),t("div",null,s(o.value.path),1)]),t("div",j,[e[4]||(e[4]=t("label",null,"浏览器",-1)),t("div",null,s(o.value.browser),1)]),t("div",B,[e[5]||(e[5]=t("label",null,"操作系统",-1)),t("div",null,s(o.value.os),1)]),t("div",F,[e[6]||(e[6]=t("label",null,"设备类型",-1)),t("div",null,s(o.value.device),1)]),t("div",H,[e[7]||(e[7]=t("label",null,"首次发生",-1)),t("div",null,s(n(d)(o.value.firstOccurred)),1)]),t("div",P,[e[8]||(e[8]=t("label",null,"最近发生",-1)),t("div",null,s(n(d)(o.value.lastOccurred)),1)]),t("div",R,[e[9]||(e[9]=t("label",null,"发生次数",-1)),t("div",null,s(o.value.count)+" 次",1)]),t("div",q,[e[10]||(e[10]=t("label",null,"影响用户",-1)),t("div",null,s(o.value.affectedUsers)+" 人",1)])])]),t("div",G,[e[12]||(e[12]=t("h3",null,"用户行为回溯",-1)),t("div",K,[(a(!0),i(y,null,D(o.value.userActions,(l,p)=>(a(),i("div",{key:p,class:"timeline-item"},[t("div",L,s(n(d)(l.time,"HH:mm:ss")),1),t("div",M,[t("div",N,s(l.type),1),t("div",V,s(l.detail),1)])]))),128))])])]))}},X=_(W,[["__scopeId","data-v-70601108"]]);export{X as default};
